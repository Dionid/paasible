paasible:
  cli_version: 0.0.2
  cli_env_path: ./paasible.env

# Include additional configuration files
include:
  - ./paasible.hidden.yaml
  - ./hidden/hosts.paasible.yaml

# Variables

## Values
variables:
  - name: destinations
    type: string
    value: "/app"
    description: Where app will be stored

## Maps
variables_maps:
  - name: destinations_map
    description: Where app will be stored
    # Values
    variables_ids:
      destinations: destinations
    variables:
      destinations:
        value: "/app"
        description: Where app will be stored

# Inventories
inventories:
  - name: default_inventory
    description: Default inventory for the project
    path: ./inventory.ini
  - name: custom_inventory
    description: Custom inventory for the project
    groups:
      target:
        description: All hosts in the inventory
        # Per group
        variables_maps_ids:
          - destinations_map
        variables_ids:
          destinations: destinations
        variables:
          destinations:
            value: "/app"
            description: Where app will be stored
        hosts:
          - host: do_first
            ssh_key: do_ssh_key
            user: root
            port: 22
            # Per host variables
            variables_maps_ids:
              - destinations_map
            variables_ids:
              destinations: destinations
            variables:
              destinations:
                value: "/app"
                description: Where app will be stored

# Describe the project
projects:
  - id: simple_project
    name: simple project
    description: A simple example of a Paasible project
    local_path: .
    # Describe project playbooks
    playbooks:
      - id: simple_playbook
        name: Simple playbook
        description: A simple example of a Paasible project
        path: ./playbook.yml

# Describe the performances (playbook executions)
performances:
  - id: simple_performance
    name: Simple performance
    description: A simple performance that runs the first playbook.
    playbooks:
      - playbook_id: simple_playbook
        project_id: simple_project
    inventories_ids:
      - default_inventory
      - custom_inventory

# Describe ssh keys
ssh_keys:
  - name: do_ssh_key
    private_path: ./hidden/id_rsa
    public_path: ./hidden/id_rsa.pub
