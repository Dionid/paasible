# Desccribe cli configuration
paasible:
  cli_version: 0.0.2
  cli_env_path: ./paasible.env

# Describe ssh keys
ssh_keys:
  - name: default_ssh_key
    description: Default SSH key for localhost
    private_path: ./ssh/id_rsa
    public_path: ./ssh/id_rsa.pub

# Desctibe hosts
hosts:
  - name: localhost
    description: Localhost for testing purposes
    address: 127.0.0.1
    ssh_keys:
      - default_ssh_key

# Just for backward compatibility
inventories:
  - name: default_inventory
    description: Default inventory for the project
    path: ./inventories.ini

# Describe variables
variables_schema:
  - name: default_variable_schema
    description: Default variables schema for the project
    schema:
      ansible_python_interpreter: path
      ansible_user: string
      ansible_ssh_private_key_file: path

# Describe the project
projects:
  - id: simple_project
    name: Simple project
    description: A simple example of a Paasible project
    version: 0.1.0
    cli_version: 0.0.2
    repository: https://github.com/Dionid/paasible
    repository_branch: main
    repository_path: examples/01-simple
    local_path: .
    playbooks:
      - id: simple_playbook
        name: First playbook
        description: A simple example of a Paasible project
        path: ./playbook.yaml
        variables_schema: default_variable_schema

executions:
  - id: simple_execution
    name: Simple execution
    description: A simple execution that runs the first playbook.
    playbooks:
      - simple_playbook
    inventories:
      - default
    targets:
      - host: localhost
        ssh_key: default
        user: root
        port: 22
        
crons:
  - name: Simple cron
    description: A simple cron job that runs every minute.
    machine: localhost
    schedule: "* * * * *"
    executions:
      - simple_execution
